{"ast":null,"code":"import _classCallCheck from\"/Users/Yina_Li/Downloads/todo-react-final/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/Yina_Li/Downloads/todo-react-final/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/Users/Yina_Li/Downloads/todo-react-final/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/Users/Yina_Li/Downloads/todo-react-final/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/Yina_Li/Downloads/todo-react-final/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import'./Todo.css';import'./NewTodo.js';var Todo=/*#__PURE__*/function(_Component){_inherits(Todo,_Component);var _super=_createSuper(Todo);function Todo(props){var _this;_classCallCheck(this,Todo);_this=_super.call(this,props);_this.checked=_this.checked.bind(_assertThisInitialized(_this));_this.remove=_this.remove.bind(_assertThisInitialized(_this));_this.state={completed:_this.props.completed};return _this;}_createClass(Todo,[{key:\"checked\",value:function checked(){var current=this;var id=this.props.id;var start=new XMLHttpRequest();start.onreadystatechange=function(){if(this.readyState===4&&this.status===200){console.log(\"completed\");current.setState({completed:true});}else{console.log(this.responseText);}};start.open(\"PUT\",\"https://cse204.work/todos/\"+id,true);start.setRequestHeader(\"x-api-key\",\"3d3b6b-cbe564-ffd618-b64d7b-4af84e\");start.setRequestHeader(\"Content-type\",\"application/json\");var data={completed:true};start.send(JSON.stringify(data));}},{key:\"remove\",value:function remove(){var id=this.props.id;var current=this;var del=new XMLHttpRequest();del.onreadystatechange=function(){if(this.readyState===4&&this.status===200){current.props.remove(id);}else{console.log(this.responseText);}};del.open(\"DELETE\",\"https://cse204.work/todos/\"+id,true);del.setRequestHeader(\"x-api-key\",\"3d3b6b-cbe564-ffd618-b64d7b-4af84e\");del.setRequestHeader(\"Content-type\",\"application/json\");del.send();}},{key:\"render\",value:function render(){var className=\"todo\";if(this.state.completed){className=\"strikethrough\";}return/*#__PURE__*/React.createElement(\"div\",{id:this.props.id,className:className},/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"button\",{type:\"checkbox\",className:\"check\",onClick:this.checked},\"Complete\"),/*#__PURE__*/React.createElement(\"text\",null,this.props.text,\" \"),/*#__PURE__*/React.createElement(\"button\",{className:\"remove\",onClick:this.remove},\"Delete\")));}}]);return Todo;}(Component);export default Todo;","map":{"version":3,"names":["React","Component","Todo","props","checked","bind","remove","state","completed","current","id","start","XMLHttpRequest","onreadystatechange","readyState","status","console","log","setState","responseText","open","setRequestHeader","data","send","JSON","stringify","del","className","text"],"sources":["/Users/Yina_Li/Downloads/todo-react-final/src/Todo.js"],"sourcesContent":["import React, { Component } from 'react';\nimport './Todo.css';\nimport './NewTodo.js'\n\nclass Todo extends Component {\n\n  constructor(props){\n    super(props);\n    this.checked = this.checked.bind(this);\n    this.remove =this.remove.bind(this);\n    this.state ={completed: this.props.completed};\n  }\n  checked(){\n    \n    var current = this;\n    var id = this.props.id;\n    var start = new XMLHttpRequest();\n    start.onreadystatechange = function(){\n      if (this.readyState === 4 && this.status === 200) {\n        console.log(\"completed\")\n        current.setState(\n          {completed: true}\n        );\n    }\n    else{\n      console.log(this.responseText);\n    } \n  };\n  start.open(\"PUT\",\"https://cse204.work/todos/\" + id, true )\n  start.setRequestHeader(\"x-api-key\", \"3d3b6b-cbe564-ffd618-b64d7b-4af84e\");\n  start.setRequestHeader(\"Content-type\", \"application/json\");\n  var data = {\n    completed: true\n  };\n  start.send(JSON.stringify(data));\n\n}\nremove(){\n  var id = this.props.id;\n  var current = this;\n  var del = new XMLHttpRequest();\n  del.onreadystatechange = function(){\n    if (this.readyState === 4 && this.status === 200) {\n      current.props.remove(id);\n\n  }\n  else{\n    console.log(this.responseText);\n\n  }\n};\n\n  \ndel.open(\"DELETE\",\"https://cse204.work/todos/\" + id, true )\ndel.setRequestHeader(\"x-api-key\", \"3d3b6b-cbe564-ffd618-b64d7b-4af84e\");\ndel.setRequestHeader(\"Content-type\", \"application/json\");\ndel.send();\n\n}\n\n  render() {\n    var className=\"todo\";\n    if (this.state.completed) {\n      className = \"strikethrough\";\n    }\n\n    return (\n      <div id = {this.props.id} className={className}>\n      {}\n          <li>\n            <button type = \"checkbox\" className=\"check\" onClick={this.checked} >Complete</button>\n          <text>{this.props.text} </text>\n          <button className = \"remove\" onClick={this.remove}>Delete</button>\n          </li>\n      {}\n    </div>\n      \n  \n  \n\n    );\n  }\n}\n\nexport default Todo;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}