{"ast":null,"code":"import _toConsumableArray from\"/Users/Yina_Li/Downloads/todo-react-final/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _classCallCheck from\"/Users/Yina_Li/Downloads/todo-react-final/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/Yina_Li/Downloads/todo-react-final/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/Users/Yina_Li/Downloads/todo-react-final/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/Users/Yina_Li/Downloads/todo-react-final/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/Yina_Li/Downloads/todo-react-final/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import'./App.css';import Todo from'./Todo';import NewTodo from'./NewTodo';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.state={todos:[]};_this.onChange=_this.onChange.bind(_assertThisInitialized(_this));_this.add=_this.add.bind(_assertThisInitialized(_this));_this.sortTodo=_this.sortTodo.bind(_assertThisInitialized(_this));_this.remove=_this.remove.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var current=this;var load=new XMLHttpRequest();load.onreadystatechange=function(){if(load.readyState===4&&load.status===200){var todos=JSON.parse(load.responseText);console.log(todos);current.setState({todos:todos});}else{console.log(load.responseText);}};load.open(\"GET\",\"https://cse204.work/todos\");load.setRequestHeader(\"x-api-key\",\"3d3b6b-cbe564-ffd618-b64d7b-4af84e\");load.send();}},{key:\"onChange\",value:function onChange(event){var current=this;current.setState({input:event.target.value});}},{key:\"add\",value:function add(event){var current=this;event.preventDefault();var data={text:this.state.input};this.setState({input:''});var newToList=new XMLHttpRequest();newToList.onreadystatechange=function(){if(this.readyState===4&&this.status===200){current.setState({todos:[].concat(_toConsumableArray(current.state.todos),[JSON.parse(this.responseText)])});}else{console.log(this.responseText);}};newToList.open(\"POST\",\"https://cse204.work/todos\",true);newToList.setRequestHeader(\"x-api-key\",\"3d3b6b-cbe564-ffd618-b64d7b-4af84e\");newToList.setRequestHeader(\"Content-type\",\"application/json\");newToList.send(JSON.stringify(data));}},{key:\"sortTodo\",value:function sortTodo(){var sorting=this.state.todos;sorting.sort(function(a,b){return a.text.localeCompare(b.text);});this.setState({todos:sorting});}},{key:\"remove\",value:function remove(id){var current=this;var final=current.state.todos.filter(function(todo){if(todo.id!=id){return todo;}});current.setState({todos:final});}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",{id:\"allcontent\"},/*#__PURE__*/React.createElement(\"span\",{className:\"todobox\"},/*#__PURE__*/React.createElement(\"h1\",{id:\"name\"},\"Bella and Yinas Todo App\"),/*#__PURE__*/React.createElement(NewTodo,{add:this.add,input:this.state.input,onChange:this.onChange}),/*#__PURE__*/React.createElement(\"button\",{id:\"sort\",onClick:this.sortTodo},\"Sort Alphabetically\")),/*#__PURE__*/React.createElement(\"ul\",{id:\"todos\"},this.state.todos.map(function(todo){return/*#__PURE__*/React.createElement(Todo,{key:todo.id,id:todo.id,text:todo.text,completed:todo.completed,remove:_this2.remove});})));}}]);return App;}(Component);export default App;","map":{"version":3,"names":["React","Component","Todo","NewTodo","App","props","state","todos","onChange","bind","add","sortTodo","remove","current","load","XMLHttpRequest","onreadystatechange","readyState","status","JSON","parse","responseText","console","log","setState","open","setRequestHeader","send","event","input","target","value","preventDefault","data","text","newToList","stringify","sorting","sort","a","b","localeCompare","id","final","filter","todo","map","completed"],"sources":["/Users/Yina_Li/Downloads/todo-react-final/src/App.js"],"sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport Todo from './Todo';\nimport NewTodo from './NewTodo';\n\n\nclass App extends Component {\n\n  constructor(props){\n    super(props);\n    this.state = {\n      todos: [],\n    }\n    this.onChange=this.onChange.bind(this);\n    this.add = this.add.bind(this);\n    this.sortTodo=this.sortTodo.bind(this);\n    this.remove =this.remove.bind(this);\n \n\n  }\n\n  componentDidMount(){\n    var current = this;\n    var load = new XMLHttpRequest();\n    load.onreadystatechange = function() {\n      if (load.readyState === 4 && load.status === 200) {\n        var todos = JSON.parse(load.responseText);\n        console.log(todos);\n        current.setState({todos: todos});\n      } \n      else{\n        console.log(load.responseText);\n      }\n    };\n    load.open(\"GET\", \"https://cse204.work/todos\");\n    load.setRequestHeader(\"x-api-key\", \"3d3b6b-cbe564-ffd618-b64d7b-4af84e\");\n    load.send();\n  }\n\n  onChange(event) {\n    var current = this;\n    current.setState(\n      {input: event.target.value}\n    );\n  }\n\n  add(event) {\n    var current = this;\n    event.preventDefault();\n    var data = {\n      text: this.state.input\n    }\n    this.setState(\n      {input: ''}\n    );\n    var newToList = new XMLHttpRequest();\n    newToList.onreadystatechange = function () {\n      if (this.readyState === 4 && this.status === 200) {\n        current.setState(\n          {todos: [...current.state.todos, JSON.parse(this.responseText)]}\n        );\n      } \n      else {\n        console.log(this.responseText);\n      }\n    };\n    newToList.open(\"POST\", \"https://cse204.work/todos\", true);\n    newToList.setRequestHeader(\"x-api-key\", \"3d3b6b-cbe564-ffd618-b64d7b-4af84e\");\n    newToList.setRequestHeader(\"Content-type\", \"application/json\");\n    newToList.send(JSON.stringify(data));\n  }\n\n  sortTodo() {\n    const sorting = this.state.todos;\n    sorting.sort(function (a, b) {\n      return a.text.localeCompare(b.text);\n          \n    })\n\n    this.setState({todos: sorting});\n  }\n\n  remove(id) {\n    var current = this;\n    const final = current.state.todos.filter((todo) => \n      {if (todo.id != id) {\n          return todo;\n        }\n      });\n      current.setState(\n        {todos: final}\n      );\n  } \n\n  render() {\n    return (\n\n      <div id = \"allcontent\">\n        <span className=\"todobox\">   \n         <h1 id=\"name\">Bella and Yinas Todo App</h1>\n        <NewTodo add={this.add} input={this.state.input} onChange={this.onChange}/>\n        <button id=\"sort\" onClick={this.sortTodo} >Sort Alphabetically</button>\n        </span>\n        <ul id=\"todos\">\n          {this.state.todos.map((todo)=>\n        <Todo key={todo.id} id={todo.id} text={todo.text} completed={todo.completed} remove={this.remove}/>\n        )}\n        </ul>\n    </div>\n\n    );\n  }\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}